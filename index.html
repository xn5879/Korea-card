<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TOPIK éŸ“æ–‡å–®å­—è¡åˆºç«™</title>
    <style>
        :root {
            --bg-color: #0f172a;
            --card-bg: #1e293b;
            --accent-ko: #fbbf24;
            --accent-zh: #38bdf8;
            --text-main: #f8fafc;
            --text-sub: #94a3b8;
        }

        body {
            font-family: 'Pretendard', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            overflow-x: hidden;
        }

        header { width: 100%; padding: 15px; text-align: center; background: #1e293b; box-shadow: 0 4px 6px rgba(0,0,0,0.3); }
        
        .controls { margin: 15px; display: flex; gap: 8px; flex-wrap: wrap; justify-content: center; width: 90%; }
        select, button {
            padding: 10px 15px; border-radius: 8px; border: none; cursor: pointer;
            font-size: 0.9rem; font-weight: bold;
        }
        button { background: var(--accent-zh); color: #000; }
        .mode-toggle { background: var(--accent-ko); }

        .card-container {
            perspective: 1000px;
            width: 90%;
            max-width: 350px;
            height: 420px;
            margin-top: 10px;
        }

        .card {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            transform-style: preserve-3d;
        }

        .card.is-flipped { transform: rotateY(180deg); }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-radius: 20px;
            padding: 25px;
            box-sizing: border-box;
            border: 4px solid var(--accent-ko);
            background: var(--card-bg);
            box-shadow: 0 15px 25px rgba(0,0,0,0.4);
        }

        .card-back { transform: rotateY(180deg); border-color: var(--accent-zh); }

        .ko-word { font-size: 3rem; color: var(--accent-ko); margin-bottom: 5px; text-align: center; }
        .zh-word { font-size: 2.2rem; color: var(--accent-zh); margin-bottom: 15px; text-align: center; }
        .example { font-size: 1rem; line-height: 1.5; color: var(--text-main); text-align: left; background: rgba(0,0,0,0.2); padding: 10px; border-radius: 10px; width: 100%; }
        
        .pronounce-btn { font-size: 2rem; background: none; border: none; cursor: pointer; margin: 10px; padding: 5px; }

        .quiz-input {
            width: 100%; padding: 12px; font-size: 1.1rem; border-radius: 8px; border: 2px solid var(--accent-ko);
            background: #0f172a; color: white; text-align: center; margin: 10px 0;
        }

        .pagination { margin: 25px 0; display: flex; align-items: center; gap: 15px; }
        .nav-btn { background: #334155; color: white; min-width: 80px; }
    </style>
</head>
<body>

    <header><h1>TOPIK éŸ“æ–‡å–®å­—å¡</h1></header>

    <div class="controls">
        <select id="categorySelect" onchange="changeCategory()">
            <option value="å…¨éƒ¨">å…¨éƒ¨ä¸»é¡Œ</option>
            <option value="æ—¥å¸¸">æ—¥å¸¸ç”Ÿæ´»</option>
            <option value="æƒ…ç·’">æƒ…ç·’å¿ƒç†</option>
            <option value="å·¥ä½œ">è·å ´ç¤¾æœƒ</option>
            <option value="ç”Ÿæ´»">ä¼‘é–’æ—…éŠ</option>
        </select>
        <button class="mode-toggle" onclick="toggleMode()">åˆ‡æ›æ¨¡å¼</button>
    </div>

    <div class="card-container" onclick="flipCard()">
        <div class="card" id="card">
            <div class="card-face card-front" id="frontContent"></div>
            <div class="card-face card-back" id="backContent"></div>
        </div>
    </div>

    <div class="pagination">
        <button class="nav-btn" onclick="prevCard(event)">ä¸Šä¸€å¼µ</button>
        <span id="pageInfo">1 / 0</span>
        <button class="nav-btn" onclick="nextCard(event)">ä¸‹ä¸€å¼µ</button>
    </div>

    <script>
        const wordData = [
            // æ—¥å¸¸
            { ko: "ê°€ë°©", zh: "åŒ…åŒ…", ex: "ê°€ë°©ì´ ë¬´ê±°ì›Œìš”.", cat: "æ—¥å¸¸" },
            { ko: "í•™êµ", zh: "å­¸æ ¡", ex: "í•™êµì— ê°‘ë‹ˆë‹¤.", cat: "æ—¥å¸¸" },
            { ko: "ì‚¬ê³¼", zh: "è˜‹æœ", ex: "ì‚¬ê³¼ê°€ ë§›ìˆì–´ìš”.", cat: "æ—¥å¸¸" },
            { ko: "ìš°ìœ ", zh: "ç‰›å¥¶", ex: "ìš°ìœ ë¥¼ ë§ˆì…”ìš”.", cat: "æ—¥å¸¸" },
            { ko: "ì¹œêµ¬", zh: "æœ‹å‹", ex: "ì¹œêµ¬ë¥¼ ë§Œë‚˜ìš”.", cat: "æ—¥å¸¸" },
            { ko: "ì˜ì", zh: "æ¤…å­", ex: "ì˜ìì— ì•‰ì•„ìš”.", cat: "æ—¥å¸¸" },
            { ko: "ì±…ìƒ", zh: "æ›¸æ¡Œ", ex: "ì±…ìƒ ìœ„ì— ì±…ì´ ìˆì–´ìš”.", cat: "æ—¥å¸¸" },
            { ko: "ì—°í•„", zh: "é‰›ç­†", ex: "ì—°í•„ë¡œ ì¨ìš”.", cat: "æ—¥å¸¸" },
            { ko: "ì‹ ë¬¸", zh: "å ±ç´™", ex: "ì‹ ë¬¸ì„ ì½ì–´ìš”.", cat: "æ—¥å¸¸" },
            { ko: "ì „í™”", zh: "é›»è©±", ex: "ì „í™”ê°€ ì™”ì–´ìš”.", cat: "æ—¥å¸¸" },
            { ko: "ì‹ì‚¬", zh: "ç”¨é¤", ex: "ì‹ì‚¬ë¥¼ í•˜ì…¨ì–´ìš”?", cat: "æ—¥å¸¸" },
            { ko: "ê°€ì¡±", zh: "å®¶äºº", ex: "ìš°ë¦¬ ê°€ì¡±ì€ ë„¤ ëª…ì´ì—ìš”.", cat: "æ—¥å¸¸" },
            { ko: "ê³µë¶€", zh: "å­¸ç¿’", ex: "í•œêµ­ì–´ë¥¼ ê³µë¶€í•´ìš”.", cat: "æ—¥å¸¸" },
            { ko: "ì§‘", zh: "å®¶", ex: "ì§‘ì— ê°€ê³  ì‹¶ì–´ìš”.", cat: "æ—¥å¸¸" },
            { ko: "ì˜·", zh: "è¡£æœ", ex: "ì˜·ì„ ì…ì–´ìš”.", cat: "æ—¥å¸¸" },
            { ko: "ë¬¼", zh: "æ°´", ex: "ë¬¼ì„ ì¢€ ì£¼ì„¸ìš”.", cat: "æ—¥å¸¸" },
            { ko: "ë¹µ", zh: "éºµåŒ…", ex: "ë¹µì„ ì¢‹ì•„í•´ìš”.", cat: "æ—¥å¸¸" },
            { ko: "êµ¬ë‘", zh: "çš®é‹", ex: "êµ¬ë‘ê°€ ì˜ˆë»ìš”.", cat: "æ—¥å¸¸" },
            { ko: "ì•ˆê²½", zh: "çœ¼é¡", ex: "ì•ˆê²½ì„ ì¨ìš”.", cat: "æ—¥å¸¸" },
            { ko: "ìš°ì‚°", zh: "é›¨å‚˜", ex: "ìš°ì‚°ì„ ê°€ì ¸ê°€ìš”.", cat: "æ—¥å¸¸" },
            
            // æƒ…ç·’
            { ko: "ìŠ¬í”„ë‹¤", zh: "æ‚²å‚·", ex: "ì˜í™”ê°€ ë„ˆë¬´ ìŠ¬í¼ìš”.", cat: "æƒ…ç·’" },
            { ko: "ê¸°ì˜ë‹¤", zh: "é«˜èˆˆ", ex: "ë§Œë‚˜ì„œ ì •ë§ ê¸°ë»ìš”.", cat: "æƒ…ç·’" },
            { ko: "í–‰ë³µí•˜ë‹¤", zh: "å¹¸ç¦", ex: "ì§€ê¸ˆ ë„ˆë¬´ í–‰ë³µí•´ìš”.", cat: "æƒ…ç·’" },
            { ko: "í™”ë‚˜ë‹¤", zh: "ç”Ÿæ°£", ex: "ë™ìƒ ë•Œë¬¸ì— í™”ë‚¬ì–´ìš”.", cat: "æƒ…ç·’" },
            { ko: "ì‹¬ì‹¬í•˜ë‹¤", zh: "ç„¡èŠ", ex: "í˜¼ì ìˆì–´ì„œ ì‹¬ì‹¬í•´ìš”.", cat: "æƒ…ç·’" },
            { ko: "ë†€ë¼ë‹¤", zh: "é©šè¨", ex: "ì†Œë¦¬ì— ê¹œì§ ë†€ëì–´ìš”.", cat: "æƒ…ç·’" },
            { ko: "ë¬´ì„­ë‹¤", zh: "å®³æ€•", ex: "ë°¤ê¸¸ì´ ë¬´ì„œì›Œìš”.", cat: "æƒ…ç·’" },
            { ko: "í”¼ê³¤í•˜ë‹¤", zh: "ç–²ç´¯", ex: "ì¼ì´ ë§ì•„ì„œ í”¼ê³¤í•´ìš”.", cat: "æƒ…ç·’" },
            { ko: "ê±±ì •í•˜ë‹¤", zh: "æ“”å¿ƒ", ex: "ë„ˆë¬´ ê±±ì •í•˜ì§€ ë§ˆì„¸ìš”.", cat: "æƒ…ç·’" },
            { ko: "ë¶€ëŸ½ë‹¤", zh: "ç¾¨æ…•", ex: "ì¹œêµ¬ê°€ ë¶€ëŸ¬ì›Œìš”.", cat: "æƒ…ç·’" },
            
            // å·¥ä½œ
            { ko: "íšŒì‚¬", zh: "å…¬å¸", ex: "íšŒì‚¬ì— ì¶œê·¼í•´ìš”.", cat: "å·¥ä½œ" },
            { ko: "íšŒì˜", zh: "æœƒè­°", ex: "íšŒì˜ ì¤‘ì…ë‹ˆë‹¤.", cat: "å·¥ä½œ" },
            { ko: "ì§ì—…", zh: "è·æ¥­", ex: "ì§ì—…ì´ ë¬´ì—‡ì…ë‹ˆê¹Œ?", cat: "å·¥ä½œ" },
            { ko: "ì„œë¥˜", zh: "æ–‡ä»¶", ex: "ì„œë¥˜ë¥¼ ì¤€ë¹„í•˜ì„¸ìš”.", cat: "å·¥ä½œ" },
            { ko: "ì‚¬ì¥ë‹˜", zh: "è€é—†", ex: "ì‚¬ì¥ë‹˜ì´ ì˜¤ì…¨ì–´ìš”.", cat: "å·¥ä½œ" },
            { ko: "ì›”ê¸‰", zh: "è–ªæ°´", ex: "ì›”ê¸‰ì´ ë“¤ì–´ì™”ì–´ìš”.", cat: "å·¥ä½œ" },
            { ko: "ì¶œì¥", zh: "å‡ºå·®", ex: "ë‚´ì¼ ì¶œì¥ì„ ê°€ìš”.", cat: "å·¥ä½œ" },
            { ko: "ë©´ì ‘", zh: "é¢è©¦", ex: "ë©´ì ‘ì„ ì˜ ë´¤ì–´ìš”.", cat: "å·¥ä½œ" },
            { ko: "ê³„íš", zh: "è¨ˆåŠƒ", ex: "ê³„íšì„ ì„¸ì›Œìš”.", cat: "å·¥ä½œ" },
            { ko: "ê²°ì •", zh: "æ±ºå®š", ex: "ê²°ì •í•˜ê¸° ì–´ë ¤ì›Œìš”.", cat: "å·¥ä½œ" },

            // ç”Ÿæ´»/æ—…éŠ
            { ko: "ì—¬í–‰", zh: "æ—…è¡Œ", ex: "ì œì£¼ë„ ì—¬í–‰ì„ ê°€ìš”.", cat: "ç”Ÿæ´»" },
            { ko: "ì§€ë„", zh: "åœ°åœ–", ex: "ì§€ë„ë¥¼ ë³´ì„¸ìš”.", cat: "ç”Ÿæ´»" },
            { ko: "ì‚¬ì§„", zh: "ç…§ç‰‡", ex: "ì‚¬ì§„ì„ ì°ì–´ìš”.", cat: "ç”Ÿæ´»" },
            { ko: "ì—¬ê¶Œ", zh: "è­·ç…§", ex: "ì—¬ê¶Œì´ ì–´ë””ì— ìˆì£ ?", cat: "ç”Ÿæ´»" },
            { ko: "ë¹„í–‰ê¸°", zh: "é£›æ©Ÿ", ex: "ë¹„í–‰ê¸°ë¥¼ íƒ€ê³  ê°€ìš”.", cat: "ç”Ÿæ´»" },
            { ko: "ë°”ë‹¤", zh: "å¤§æµ·", ex: "ë°”ë‹¤ê°€ í‘¸ë¥´ëŸ¬ìš”.", cat: "ç”Ÿæ´»" },
            { ko: "ì‚°", zh: "å±±", ex: "ì‚°ì— ì˜¬ë¼ê°€ìš”.", cat: "ç”Ÿæ´»" },
            { ko: "ë‚ ì”¨", zh: "å¤©æ°£", ex: "ë‚ ì”¨ê°€ ë¥ë„¤ìš”.", cat: "ç”Ÿæ´»" },
            { ko: "ê³„ì ˆ", zh: "å­£ç¯€", ex: "ì–´ëŠ ê³„ì ˆì„ ì¢‹ì•„í•´ìš”?", cat: "ç”Ÿæ´»" },
            { ko: "ìŒì‹", zh: "é£Ÿç‰©", ex: "í•œêµ­ ìŒì‹ì„ ì¢‹ì•„í•´ìš”.", cat: "ç”Ÿæ´»" }
            
            // æ­¤è™•åƒ…åˆ—å‡º 50 å€‹ä»£è¡¨ï¼Œæ‚¨å¯ä»¥ç¹¼çºŒæŒ‰æ­¤æ ¼å¼æ–°å¢è‡³ 300 æˆ– 1000 å€‹
        ];

        let filteredWords = [...wordData];
        let currentIndex = 0;
        let isQuizMode = false;

        function updateCard() {
            const card = filteredWords[currentIndex];
            const front = document.getElementById('frontContent');
            const back = document.getElementById('backContent');

            if (!isQuizMode) {
                front.innerHTML = `<div class="ko-word">${card.ko}</div><button class="pronounce-btn" onclick="speak(event)">ğŸ”Š</button><small style="color:var(--text-sub)">é»æ“Šç¿»çœ‹</small>`;
                back.innerHTML = `<div class="zh-word">${card.zh}</div><div class="example"><strong>ä¾‹å¥ï¼š</strong><br>${card.ex}</div>`;
            } else {
                front.innerHTML = `<div class="zh-word">${card.zh}</div><input type="text" id="userInput" class="quiz-input" placeholder="è¼¸å…¥éŸ“æ–‡..." onclick="event.stopPropagation()"><button onclick="checkAnswer(event)">æª¢æŸ¥</button><div id="feedback"></div>`;
                back.innerHTML = `<div class="ko-word">${card.ko}</div><button class="pronounce-btn" onclick="speak(event)">ğŸ”Š</button><div class="example"><strong>æ­£ç¢ºä¾‹å¥ï¼š</strong><br>${card.ex}</div>`;
            }
            
            document.getElementById('pageInfo').innerText = `${currentIndex + 1} / ${filteredWords.length}`;
            document.getElementById('card').classList.remove('is-flipped');
        }

        function flipCard() { document.getElementById('card').classList.toggle('is-flipped'); }

        function speak(event) {
            event.stopPropagation();
            const msg = new SpeechSynthesisUtterance(filteredWords[currentIndex].ko);
            msg.lang = 'ko-KR';
            window.speechSynthesis.speak(msg);
        }

        function toggleMode() {
            isQuizMode = !isQuizMode;
            updateCard();
        }

        function checkAnswer(event) {
            event.stopPropagation();
            const input = document.getElementById('userInput').value.trim();
            const feedback = document.getElementById('feedback');
            if (input === filteredWords[currentIndex].ko) {
                feedback.innerHTML = "æ­£è§£ï¼ğŸ‰"; feedback.style.color = "#4ade80";
            } else {
                feedback.innerHTML = "å†è©¦ä¸€æ¬¡ï¼ğŸ’ª"; feedback.style.color = "#f87171";
            }
        }

        function nextCard(event) {
            event.stopPropagation();
            if (currentIndex < filteredWords.length - 1) { currentIndex++; updateCard(); }
        }

        function prevCard(event) {
            event.stopPropagation();
            if (currentIndex > 0) { currentIndex--; updateCard(); }
        }

        function changeCategory() {
            const cat = document.getElementById('categorySelect').value;
            filteredWords = cat === "å…¨éƒ¨" ? [...wordData] : wordData.filter(w => w.cat === cat);
            currentIndex = 0;
            updateCard();
        }

        updateCard();
    </script>
</body>
</html>
