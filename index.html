<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>éŸ“èª 1000 å–®å­—ç‹</title>
    <style>
        :root { --bg: #121212; --card: #1e1e26; --text: #e0e0e0; --accent: #ffd166; --primary: #06d6a0; --error: #ef476f; }
        body { background: var(--bg); color: var(--text); font-family: 'Segoe UI', system-ui, sans-serif; margin: 0; display: flex; flex-direction: column; align-items: center; min-height: 100vh; touch-action: manipulation; }
        
        /* é é¦–èˆ‡çµ±è¨ˆ */
        .header { width: 100%; padding: 20px 0; background: #1a1a20; text-align: center; border-bottom: 1px solid #333; position: sticky; top: 0; z-index: 100; }
        .stats { font-size: 0.85rem; color: var(--accent); margin-top: 4px; letter-spacing: 1px; }

        /* æ§åˆ¶å€ */
        .controls { width: 90%; max-width: 400px; margin: 20px 0; display: flex; gap: 10px; }
        select, .mode-btn { flex: 1; padding: 14px; border-radius: 12px; border: 1px solid #444; background: var(--card); color: white; font-size: 1rem; outline: none; transition: 0.2s; }
        .mode-btn { background: var(--accent); color: #000; font-weight: bold; border: none; }
        .mode-btn:active { transform: scale(0.95); }

        /* æ ¸å¿ƒå¡ç‰‡ */
        .card { width: 85%; max-width: 360px; height: 380px; background: var(--card); border-radius: 24px; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; position: relative; box-shadow: 0 15px 35px rgba(0,0,0,0.4); padding: 20px; transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1); border: 1px solid #333; }
        .category-tag { position: absolute; top: 20px; left: 25px; font-size: 0.75rem; color: var(--primary); background: rgba(6, 214, 160, 0.1); padding: 5px 12px; border-radius: 20px; text-transform: uppercase; }
        
        /* å­¸ç¿’æ¨¡å¼å…§å®¹ */
        .korean { font-size: 3.8rem; font-weight: 800; color: var(--accent); margin-bottom: 5px; }
        .chinese { font-size: 1.8rem; font-weight: 500; color: #fff; margin: 15px 0; min-height: 2.2rem; }
        .example { font-size: 1rem; color: #aaa; line-height: 1.5; padding: 0 15px; min-height: 3rem; }
        .hint-text { font-size: 0.8rem; color: #555; margin-top: 10px; }

        /* æ¸¬é©—æ¨¡å¼å…§å®¹ */
        #quiz-area { width: 100%; }
        .quiz-q-text { font-size: 1.8rem; color: #fff; margin-bottom: 20px; }
        .quiz-input { width: 85%; padding: 15px; border-radius: 12px; border: 2px solid #444; background: #121212; color: white; text-align: center; font-size: 1.4rem; transition: 0.3s; }
        .quiz-input:focus { border-color: var(--accent); outline: none; }
        .check-btn { margin-top: 15px; padding: 12px 30px; border-radius: 10px; background: var(--primary); color: #000; font-weight: bold; border: none; font-size: 1rem; }

        /* æŒ‰éˆ•èˆ‡å°èˆª */
        .audio-btn { margin-top: 20px; font-size: 2.2rem; background: none; border: none; cursor: pointer; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.5)); }
        .nav-btns { width: 85%; max-width: 400px; display: flex; justify-content: space-between; margin-top: 35px; align-items: center; }
        .nav-btn { background: #2a2a35; color: white; border-radius: 18px; width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; font-size: 1.8rem; border: 1px solid #444; }
        .counter { font-size: 1.2rem; font-weight: 600; color: #888; }
        
        .hidden { display: none !important; }
        .correct { color: var(--primary) !important; font-weight: bold; }
        .wrong { color: var(--error) !important; font-weight: bold; }
    </style>
</head>
<body>

<div class="header">
    <strong>ğŸ‡°ğŸ‡· éŸ“èª 1000 å–®å­—ç‹</strong>
    <div class="stats" id="stats-total">æ­£åœ¨è¼‰å…¥å–®å­—åº«...</div>
</div>

<div class="controls">
    <select id="ct" onchange="filterList()">
        <option value="å…¨éƒ¨">å…¨éƒ¨å–®å­—</option>
        <option value="åœ°é»æ–¹ä½">ğŸ“ åœ°é»æ–¹ä½</option>
        <option value="æ—¥å¸¸">ğŸ  æ—¥å¸¸ç”Ÿæ´»</option>
        <option value="é£Ÿç‰©">ğŸ é£Ÿç‰©é£²å“</option>
        <option value="äº¤é€š">ğŸš— äº¤é€šå·¥å…·</option>
        <option value="æ™‚é–“">â° æ™‚é–“æ—¥æœŸ</option>
        <option value="å‹•ç‰©">ğŸ¶ å‹•ç‰©ä¸–ç•Œ</option>
        <option value="èº«é«”éƒ¨ä½">ğŸ’ª èº«é«”éƒ¨ä½</option>
        <option value="å¿ƒæƒ…å¤–è²Œ">ğŸ˜Š å¿ƒæƒ…å¤–è²Œ</option>
        <option value="é€£æ¥è©å‰¯è©">ğŸ”— é€£æ¥è©å‰¯è©</option>
        <option value="è¡£ç‰©é…é£¾">ğŸ‘— è¡£ç‰©é…é£¾</option>
        <option value="è‰²å½©">ğŸ¨ å¸¸ç”¨è‰²å½©</option>
        <option value="å­¸ç¿’">ğŸ“š å­¸ç¿’æ•™è‚²</option>
        <option value="å¥åº·">ğŸ¥ é†«ç™‚å¥åº·</option>
        <option value="å®¶æ—">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ å®¶æ—ç¨±å‘¼</option>
        <option value="å·¥ä½œ">ğŸ’¼ è·æ¥­å·¥ä½œ</option>
        <option value="èˆˆè¶£">ğŸ¸ èˆˆè¶£æ„›å¥½</option>
        <option value="å‹•ä½œ">ğŸƒ å¸¸ç”¨å‹•ä½œ</option>
        <option value="å½¢å®¹è©">âœ¨ å¸¸ç”¨å½¢å®¹è©</option>
        <option value="ç”Ÿæ´»åè©">ğŸ§¸ ç”Ÿæ´»åè©</option>
    </select>
    <button class="mode-btn" onclick="toggleMode()" id="mode-btn">æ¸¬é©—æ¨¡å¼</button>
</div>

<div class="card" id="main-card">
    <div class="category-tag" id="tag">åˆ†é¡</div>
    
    <div id="study-area">
        <div class="korean" id="kr">---</div>
        <div class="chinese" id="zh">é»æ“Šçœ‹ç­”æ¡ˆ</div>
        <div class="example" id="ex">---</div>
        <div class="hint-text" id="hint">TAB TO REVEAL</div>
    </div>

    <div id="quiz-area" class="hidden">
        <div class="quiz-q-text" id="quiz-q">è¼‰å…¥ä¸­...</div>
        <input type="text" class="quiz-input" id="quiz-in" placeholder="è¼¸å…¥éŸ“æ–‡..." autocomplete="off" spellcheck="false">
        <br>
        <button class="check-btn" onclick="checkAnswer()">æª¢æŸ¥ç­”æ¡ˆ</button>
    </div>

    <button class="audio-btn" onclick="speak(event)">ğŸ”Š</button>
</div>

<div class="nav-btns">
    <button class="nav-btn" onclick="prev()">â€¹</button>
    <div class="counter" id="num">0 / 0</div>
    <button class="nav-btn" onclick="next()">â€º</button>
</div>

<script>
    // --- å–®å­—è³‡æ–™å€ (è«‹åœ¨æ­¤è²¼ä¸Šä»£ç¢¼) ---
    const D = [
        // å–®å­—å…§å®¹å°‡å¾é€™è£¡é–‹å§‹è¼¸å…¥
    ];

    let currentList = [...D];
    let idx = 0;
    let isQuiz = false;
    let isFlipped = false; // æ§åˆ¶å¡ç‰‡æ˜¯å¦ç¿»é¢

    function render() {
        const statsEl = document.getElementById('stats-total');
        const numEl = document.getElementById('num');
        
        if (D.length === 0) {
            statsEl.innerText = "è«‹åœ¨ç¨‹å¼ç¢¼ä¸­è¼¸å…¥å–®å­—";
            return;
        }

        if (currentList.length === 0) {
            document.getElementById('kr').innerText = "ç©º";
            document.getElementById('zh').innerText = "æ­¤åˆ†é¡æš«ç„¡å–®å­—";
            numEl.innerText = "0 / 0";
            return;
        }

        const item = currentList[idx];
        document.getElementById('tag').innerText = item.c;
        statsEl.innerText = `å–®å­—åº«ç¸½é‡ï¼š${D.length
