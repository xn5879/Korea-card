<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>éŸ“èª 1000 å–®å­—ç‹</title>
    <style>
        :root { --bg: #121212; --card: #1e1e26; --text: #e0e0e0; --accent: #ffd166; --primary: #06d6a0; --error: #ef476f; }
        body { background: var(--bg); color: var(--text); font-family: system-ui, -apple-system, sans-serif; margin: 0; display: flex; flex-direction: column; align-items: center; min-height: 100vh; }
        .header { width: 100%; padding: 20px 0; background: #1a1a20; text-align: center; border-bottom: 1px solid #333; }
        .stats { font-size: 0.85rem; color: var(--accent); margin-top: 4px; }
        .controls { width: 90%; max-width: 400px; margin: 20px 0; display: flex; gap: 10px; }
        select, .mode-btn { flex: 1; padding: 14px; border-radius: 12px; border: 1px solid #444; background: var(--card); color: white; font-size: 1rem; }
        .mode-btn { background: var(--accent); color: #000; font-weight: bold; border: none; }
        .card { width: 85%; max-width: 360px; height: 380px; background: var(--card); border-radius: 24px; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; position: relative; box-shadow: 0 15px 35px rgba(0,0,0,0.4); padding: 20px; border: 1px solid #333; }
        .category-tag { position: absolute; top: 20px; left: 25px; font-size: 0.75rem; color: var(--primary); background: rgba(6, 214, 160, 0.1); padding: 5px 12px; border-radius: 20px; }
        .korean { font-size: 3.5rem; font-weight: 800; color: var(--accent); margin-bottom: 5px; }
        .chinese { font-size: 1.8rem; color: #fff; margin: 15px 0; min-height: 2.2rem; }
        .example { font-size: 1rem; color: #aaa; line-height: 1.5; min-height: 3rem; }
        #quiz-area { width: 100%; }
        .quiz-q-text { font-size: 1.8rem; color: #fff; margin-bottom: 20px; }
        .quiz-input { width: 80%; padding: 15px; border-radius: 12px; border: 2px solid #444; background: #121212; color: white; text-align: center; font-size: 1.4rem; }
        .check-btn { margin-top: 15px; padding: 12px 30px; border-radius: 10px; background: var(--primary); color: #000; font-weight: bold; border: none; }
        .audio-btn { margin-top: 20px; font-size: 2.2rem; background: none; border: none; cursor: pointer; }
        .nav-btns { width: 85%; max-width: 400px; display: flex; justify-content: space-between; margin-top: 35px; align-items: center; }
        .nav-btn { background: #2a2a35; color: white; border-radius: 18px; width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; font-size: 1.8rem; border: 1px solid #444; cursor: pointer; }
        .hidden { display: none !important; }
        .correct { color: var(--primary) !important; }
        .wrong { color: var(--error) !important; }
    </style>
</head>
<body>

<div class="header">
    <strong>ğŸ‡°ğŸ‡· éŸ“èª 1000 å–®å­—ç‹</strong>
    <div class="stats" id="stats-total">è¼‰å…¥ä¸­...</div>
</div>

<div class="controls">
    <select id="ct" onchange="filterList()">
        <option value="å…¨éƒ¨">å…¨éƒ¨å–®å­—</option>
        <option value="åœ°é»æ–¹ä½">ğŸ“ åœ°é»æ–¹ä½</option>
        <option value="æ—¥å¸¸">ğŸ  æ—¥å¸¸ç”Ÿæ´»</option>
        <option value="é£Ÿç‰©">ğŸ é£Ÿç‰©é£²å“</option>
        <option value="äº¤é€š">ğŸš— äº¤é€šå·¥å…·</option>
        <option value="æ™‚é–“">â° æ™‚é–“æ—¥æœŸ</option>
        <option value="å‹•ä½œ">ğŸƒ å¸¸ç”¨å‹•ä½œ</option>
        <option value="å½¢å®¹è©">âœ¨ å¸¸ç”¨å½¢å®¹è©</option>
    </select>
    <button class="mode-btn" onclick="toggleMode()" id="mode-btn">æ¸¬é©—æ¨¡å¼</button>
</div>

<div class="card" id="main-card">
    <div class="category-tag" id="tag">åˆ†é¡å</div>
    <div id="study-area">
        <div class="korean" id="kr">---</div>
        <div class="chinese" id="zh">é»æ“Šçœ‹ç­”æ¡ˆ</div>
        <div class="example" id="ex">---</div>
    </div>
    <div id="quiz-area" class="hidden">
        <div class="quiz-q-text" id="quiz-q">é¡Œç›®è¼‰å…¥ä¸­</div>
        <input type="text" id="quiz-in" class="quiz-input" placeholder="è¼¸å…¥éŸ“æ–‡..." autocomplete="off">
        <br>
        <button class="check-btn" onclick="checkAnswer()">æª¢æŸ¥ç­”æ¡ˆ</button>
    </div>
    <button class="audio-btn" onclick="speak(event)">ğŸ”Š</button>
</div>

<div class="nav-btns">
    <button class="nav-btn" onclick="prev()">â€¹</button>
    <div id="num">0 / 0</div>
    <button class="nav-btn" onclick="next()">â€º</button>
</div>

<script>
    // --- é€™è£¡é å¡«äº† 5 å€‹å–®å­—ä¾›ä½ æ¸¬è©¦ï¼Œæ¸¬è©¦æˆåŠŸå¾Œå†æŠŠå‰©ä¸‹çš„è²¼é€²ä¾† ---
    const D = [
        {k:"ìœ„", z:"ä¸Šé¢", e:"ì±…ìƒ ìœ„ì— ì±…ì´ ìˆì–´ìš”.", c:"åœ°é»æ–¹ä½"},
        {k:"ë°‘", z:"ä¸‹é¢", e:"ì˜ì ë°‘ì— ê³ ì–‘ì´ê°€ ìˆì–´ìš”.", c:"åœ°é»æ–¹ä½"},
        {k:"ì‚¬ê³¼", z:"è˜‹æœ", e:"ì‚¬ê³¼ê°€ ë¹¨ê°œìš”.", c:"é£Ÿç‰©"},
        {k:"ë¬¼", z:"æ°´", e:"ë¬¼ì„ ë§ˆì…”ìš”.", c:"é£Ÿç‰©"},
        {k:"ê°€ë‹¤", z:"å»", e:"í•™êµì— ê°€ìš”.", c:"å‹•ä½œ"}
    ];

    let currentList = [...D];
    let idx = 0;
    let isQuiz = false;
    let isFlipped = false;

    function render() {
        if (currentList.length === 0) return;
        const item = currentList[idx];
        document.getElementById('stats-total').innerText = `å–®å­—åº«ç¸½é‡ï¼š${D.length} å­—`;
        document.getElementById('num').innerText = `${idx + 1} / ${currentList.length}`;
        document.getElementById('tag').innerText = item.c;

        if (!isQuiz) {
            document.getElementById('kr').innerText = item.k;
            document.getElementById('zh').innerText = isFlipped ? item.z : "é»æ“Šçœ‹ç­”æ¡ˆ";
            document.getElementById('ex').innerText = isFlipped ? item.e : "---";
        } else {
            document.getElementById('quiz-q').innerText = item.z;
            document.getElementById('quiz-q').className = "quiz-q-text";
        }
    }

    document.getElementById('main-card').onclick = function(e) {
        if (isQuiz || e.target.closest('.audio-btn')) return;
        isFlipped = !isFlipped;
        render();
    };

    function toggleMode() {
        isQuiz = !isQuiz;
        isFlipped = false;
        document.getElementById('study-area').classList.toggle('hidden');
        document.getElementById('quiz-area').classList.toggle('hidden');
        document.getElementById('mode-btn').innerText = isQuiz ? "è¿”å›å­¸ç¿’" : "æ¸¬é©—æ¨¡å¼";
        render();
    }

    function checkAnswer() {
        const userIn = document.getElementById('quiz-in').value.trim();
        const correct = currentList[idx].k;
        const qText = document.getElementById('quiz-q');

        if (userIn === correct) {
            qText.innerText = "âœ… æ­£ç¢ºï¼";
            qText.classList.add("correct");
            setTimeout(() => {
                next();
                document.getElementById('quiz-in').value = "";
            }, 800);
        } else {
            qText.innerText = "âŒ ç­”æ¡ˆæ˜¯ï¼š" + correct;
            qText.classList.add("wrong");
        }
    }

    function filterList() {
        const val = document.getElementById('ct').value;
        currentList = (val === "å…¨éƒ¨") ? [...D] : D.filter(i => i.c === val);
        idx = 0; isFlipped = false; render();
    }

    function next() { if (idx < currentList.length - 1) { idx++; isFlipped = false; render(); } }
    function prev() { if (idx > 0) { idx--; isFlipped = false; render(); } }

    function speak(e) {
        if (e) e.stopPropagation();
        const msg = new SpeechSynthesisUtterance(currentList[idx].k);
        msg.lang = 'ko-KR';
        window.speechSynthesis.speak(msg);
    }

    window.onload = render;
</script>
</body>
</html>
